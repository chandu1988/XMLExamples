<?xml version="1.0" encoding="UTF-8"?><?xml-stylesheet type="text/xsl" href="../../resources/stylesheet.xsl"?><chapter category="basics" xmlns="http://www.xml-sicherheit.de" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:id="encryption_decrypt" xml:lang="de" xsi:schemaLocation="http://www.xml-sicherheit.de ../../resources/documentation.xsd">	<title>Entschlüsselung</title>	<text>		<p>Für jeden zu entschlüsselnden <link id="encryption_syntax_encryptedtype.html">EncryptedType</link> (<link id="encryption_syntax_encrypteddata.html">EncryptedData</link> oder <link id="encryption_syntax_keyinfo.html#EncryptedKey">EncryptedKey</link>) müssen</p>		<list type="ordered">			<point>das Element verarbeitet und der Algorithmus mit allen Parametern sowie das <link id="encryption_syntax_keyinfo.html">KeyInfo</link> Element festgelegt werden (falls eine oder mehrere dieser Informationen nicht vorhanden sind müssen diese durch die Applikation festgelegt werden),</point>			<point>der <keyword>data encryption key</keyword> samt möglicher Kindelemente lokalisiert werden. Falls dieser ebenfalls verschlüsselt ist muss dieser zunächst mit dem zugehörigen Schlüssel entschlüsselt werden.</point>			<point>Anschließend werden die verschlüsselten Daten innerhalb von <link id="encryption_syntax_cipherdata.html">CipherData</link> entschlüsselt;</point>			<list type="ordered">				<point>falls diese in einem <link id="encryption_syntax_cipherdata.html#CipherValue">CipherValue</link> Element vorliegen wird der Text abgerufen und Base-64 dekodiert um die verschlüsselte <keyword>octect</keyword> Sequenz zu erhalten</point>				<point>falls diese in einem <link id="encryption_syntax_cipherdata.html#CipherReference">CipherReference</link> Element vorliegen wird die URI und mögliche Transformationen angewandt um die verschlüsselte <keyword>octect</keyword> Sequenz zu erhalten</point>				<point>und anschließend die erhaltene <keyword>octect</keyword> Sequenz mit dem angegebenen Algorithmus, dessen Parametern und dem Schlüssel aus den Schritten 1 und 2 entschlüsselt.</point>			</list>			<point>Anschließend werden die entschlüsselten Daten vom Typ <keyword>element</keyword> oder <keyword>content</keyword>			</point>			<list type="ordered">				<point>als UTF-8 kodierte Daten interpretiert</point>				<point>und als UTF-8 kodierte XML-Daten an die Applikation zurückgegeben.</point>				<point>Abschließend wird der Geheimtext im XML-Dokument durch den Klartext ersetzt. Falls das Zieldokument dabei nicht als UTF-8 kodiertes XML-Dokument vorliegt werden die entschlüsselten Daten zunächst in das Encoding des Zieldokuments transformiert.</point>			</list>			<point>Falls die entschlüsselten Daten nicht vom Typ <keyword>element</keyword> oder <keyword>content</keyword> sind</point>			<list type="ordered">				<point>wird der ermittelte Klartext mit den Attributen <keyword>Type</keyword>, <keyword>MimeType</keyword> und <keyword>Encoding</keyword> an die Applikation zur weiteren Verarbeitung zurückgegeben.</point>			</list>		</list>	</text></chapter>