<?xml version="1.0" encoding="UTF-8"?><?xml-stylesheet type="text/xsl" href="../../resources/stylesheet.xsl"?><chapter category="basics" xmlns="http://www.xml-sicherheit.de" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:id="signatures_verify" xml:lang="de" xsi:schemaLocation="http://www.xml-sicherheit.de ../../resources/documentation.xsd">	<title>Verifizierung</title>	<text>		<p>Bei der Verifizierung einer Signatur (<keyword>core validation</keyword>) müssen alle beiden Schritte erfolgreich verlaufen. Zunächst erfolgt die Überprüfung der Ressourcen (<keyword>reference validation</keyword>), anschließend die Verifizierung der Signatur (<keyword>signature validation</keyword>). Die in den URI Attributen der <link id="signatures_syntax_signedinfo.html#Reference">Reference</link> Elemente angegeben signierten Daten müssen dafür zugänglich sein.</p>		<p>			<strong>Reference Validation (Verifikation der Reference-Elemente)</strong>		</p>		<list type="ordered">			<point>Zunächst wird die Kanonisierung des <link id="signatures_syntax_signedinfo.html">SignedInfo</link> Elements mit der angegebenen <link id="signatures_syntax_signedinfo.html#CanonicalizationMethod">CanonicalizationMethod</link> durchgeführt.</point>			<point>Für jedes Reference Element in SignedInfo werden</point>			<list type="ordered">				<point>die signierten Daten ermittelt und die möglicherweise bei der Generierung der Signatur angewandten Transformationen durchgeführt.</point>				<point>Von den transformierten Daten wird mit dem in der <link id="signatures_syntax_signaturemethod.html#DigestMethod">DigestMethod</link> angegebenen Algorithmus der Hashwert berechnet.</point>				<point>Anschließend wird der berechnete Hashwert mit dem im <link id="signatures_syntax_signaturemethod.html#DigestValue">DigestValue</link> übermittelten Hashwert verglichen. Jeglicher Unterschied lässt die gesamte Verifizierung scheitern (auch wenn nur ein Hashwert von vielen eine Abweichung aufweist).</point>			</list>		</list>		<p>			<strong>Signature Validation (Verifikation der Signatur)</strong>		</p>		<list type="ordered">			<point>Der öffentliche Schlüssel wird aus dem <link id="signatures_syntax_keyinfo.html">KeyInfo</link> Element oder einer externen Quelle ermittelt.</point>			<point>Das <link id="signatures_syntax_signedinfo.html">SignedInfo</link> Element wird kanonisiert. Mit den Schlüsselinformationen und dem kanonisierten <link id="signatures_syntax_signedinfo.html">SignedInfo</link> Element wird der <link id="signatures_syntax_signaturevalue.html">SignatureValue</link> berechnet und mit dem übermittelten Wert verglichen.</point>		</list>		<p>Ein möglicherweise durch eine Referenz ebenfalls signiertes <link id="signatures_syntax_keyinfo.html">KeyInfo</link> Element wird auf die gleiche Art verifiziert.</p>		<p>Ist bei der Verifizierung auch nur eine der angegebenen Referenzen ungültig oder stimmen zwei Werte nicht überein, schreibt die Empfehlung des W3C vor, dass die gesamte Signatur ungültig wird. Die Signatur wird ebenfalls ungültig, wenn ein URI nicht aufgelöst werden kann, die Daten somit nicht erreichbar sind. Alle Schritte der Verifizierung müssen damit für eine gültige Signatur erfolgreich abgeschlossen werden.</p>	</text></chapter>